package ${package}.service.impl;

import cn.hutool.core.map.MapUtil;
import ${package}.entity.model.${className};
import ${package}.service.api.I${className}Service;
import ${package}.service.repo.${className}Mapper;
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.cheche365.ccgeneral.backend.service.util.Result;
import com.github.pagehelper.PageInfo;
import com.github.pagehelper.page.PageMethod;
import lombok.extern.slf4j.Slf4j;
import lombok.AllArgsConstructor;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.Map;

import static ${package}.entity.constant.PageConstants.DEF_PAGE_NUM;
import static ${package}.entity.constant.PageConstants.DEF_PAGE_SIZE;

/**
 * @Author: ${author}
 * @Description: ${comments}服务接口实现
 * @Date: ${datetime}
 */
@Slf4j
@Service
@AllArgsConstructor
public class ${className}ServiceImpl extends ServiceImpl<${className}Mapper, ${className}> implements I${className}Service {
    private ${className}Mapper ${classname}Mapper;

    @Override
    public Result<PageInfo<${className}>> findList(Map<String, Object> params) throws Exception {
        Integer pageNum = MapUtil.getInt(params, "pageNum", DEF_PAGE_NUM);
        Integer pageSize = MapUtil.getInt(params, "pageSize", DEF_PAGE_SIZE);
        PageMethod.startPage(pageNum, pageSize);
        List<${className}> ${classname}s = ${classname}Mapper.findList(params);
        return Result.success(new PageInfo<>(${classname}s));
    }
}

